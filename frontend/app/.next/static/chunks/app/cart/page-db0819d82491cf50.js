(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7772:function(e,t,r){Promise.resolve().then(r.bind(r,7312))},7312:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(1844),s=r(8765),n=r(2090),l=r(8159),i=r(7462),o=r(5784),c=r(9352),d=r(5928),u=r(9473),m=r(6154);let x=e=>{var t;let{cartItem:r}=e,s=(0,u.I0)(),n=(0,u.v9)(e=>e.user),l=async(e,t)=>{var a={key:t,val:"quantity"==t?parseInt(e.target.value):e.target.value,id:r.ProductId};console.log(a),s((0,d.xu)(a));let l=await m.Z.post("/cart/updateCart",a,{headers:{Authorization:n.token}});201===l.status&&console.log("Updated")},i=async()=>{let e=await m.Z.delete("/cart/delete/".concat(r.ProductId),{headers:{Authorization:n.token}});200===e.status&&s((0,d.h2)(r.ProductId))};return(0,a.jsxs)("div",{className:"flex py-5 gap-3 md:gap-5 border-b",children:[(0,a.jsx)("div",{className:"shrink-0 aspect-square w-[50px] md:w-[120px]",children:(0,a.jsx)("img",{src:r.thumbnail,alt:r.name,height:120,width:120})}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,a.jsx)("div",{className:"text-lg md:text-2xl font-semibold text-black/[0.8]",children:r.name}),(0,a.jsx)("div",{className:"text-sm md:text-md font-medium text-black/[0.5] block md:hidden",children:r.subtitle}),(0,a.jsxs)("div",{className:"text-sm md:text-md font-medium text-black/[0.5] block mt-2",children:["MRP : $",r.price]})]}),(0,a.jsx)("div",{className:"text-sm md:text-md font-medium text-black/[0.5] md:block hidden",children:r.subtitle}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 md:gap-10 text-black/[0.5] text-sm md:text-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Size:"}),(0,a.jsx)("select",{className:"hover:text-black",onChange:e=>l(e,"selectedSize"),children:null==r?void 0:null===(t=r.sizes)||void 0===t?void 0:t.map((e,t)=>(0,a.jsx)("option",{value:e.size,disabled:!e.enabled,selected:e.size===r.selectedSize,children:e.size},t))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Quantity:"}),(0,a.jsx)("select",{className:"hover:text-black",onChange:e=>l(e,"Quantity"),children:Array.from({length:10},(e,t)=>t+1).map((e,t)=>(0,a.jsx)("option",{value:e,selected:e===r.Quantity,children:e},t))})]})]}),(0,a.jsx)(c.GnT,{className:"cursor-pointer text-black/[0.5] hover:text-black text-[16px] md:text-[20px]",onClick:i})]})]})]})};var p="https://js.stripe.com/v3",h=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,f=function(){for(var e=document.querySelectorAll('script[src^="'.concat(p,'"]')),t=0;t<e.length;t++){var r=e[t];if(h.test(r.src))return r}return null},v=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(p).concat(t);var a=document.head||document.body;if(!a)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},y=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})},g=null,j=function(e,t,r){if(null===e)return null;var a=e.apply(void 0,t);return y(a,r),a},b=Promise.resolve().then(function(){return null!==g?g:g=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r=f();r||(r=v(null)),r.addEventListener("load",function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))}),r.addEventListener("error",function(){t(Error("Failed to load Stripe.js"))})}catch(e){t(e);return}})}),w=!1;b.catch(function(e){w||console.warn(e)});var N=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];w=!0;var a=Date.now();return b.then(function(e){return j(e,t,a)})};let k=()=>{let{cartItems:e}=(0,u.v9)(e=>e.cart),t=(0,u.v9)(e=>e.user),r=(0,u.I0)(),s=(0,o.useMemo)(()=>e.reduce((e,t)=>e+parseInt(t.selectedQuantityPrice),0),[e]),n=async()=>{console.log("Func called");let a=await N("pk_test_51LRdGMSHvE1Ajub2joDHbioEO55qNtevuRhFB3tun0hzsUxvYMhAjU9cBwnbpe14txF5ikFSjFdOQqnZsuVs3WMx00iMhyYIlQ");({...e});let s=await m.Z.post("/order/payment",{products:e},{headers:{Authorization:t.token}});if(console.log(s),200===s.status){let e=a.redirectToCheckout({sessionId:s.data.id});if(e.error)console.log(e.error);else{let e=await m.Z.delete("/cart/empty",{headers:{Authorization:t.token}});200===e.status&&r((0,d.UY)())}}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-12 py-10",children:[(0,a.jsxs)("div",{className:"flex-[2]",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:"Cart Items"}),null==e?void 0:e.map((e,t)=>(0,a.jsx)(x,{cartItem:e},t))]}),(0,a.jsxs)("div",{className:"flex-[1]",children:[(0,a.jsx)("div",{className:"text-lg font-bold",children:"Summary"}),(0,a.jsxs)("div",{className:"p-5 my-5 bg-black/[0.05] rounded-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"uppercase text-md md:text-lg font-medium text-black",children:"SUBTOTAL"}),(0,a.jsxs)("div",{className:"text-md md:text-lg font-medium text-black",children:["$",s]})]}),(0,a.jsx)("div",{className:"text-sm md:text-md py-5 border-t mt-5",children:"The subtotal reflects the total price of your order, including duties and taxes, before any applicable discounts. It does not include delivery costs and international transaction fees."})]}),(0,a.jsx)("button",{className:"w-full py-4 rounded-full bg-black text-white text-lg font-medium transition-transform active:scale-95 mb-3 hover:opacity-75 flex items-center gap-2 justify-center",onClick:n,children:"Checkout"})]})]})})},I=()=>{let[e,t]=(0,o.useState)(!0),[r,c]=(0,o.useState)(!1),{cartItems:d}=(0,u.v9)(e=>e.cart);return(0,o.useEffect)(()=>{let e=localStorage.getItem("isLoggedIn");e&&c(!0),d&&t(!1)},[]),(0,a.jsx)("div",{className:"w-full md:py-20",children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("div",{className:"text-center max-w-[800px] mx-auto mt-8 md:mt-0 ",children:(0,a.jsx)("div",{className:"text-[20px] md:text-[34px] mb-5 font-semibold leading-tight",children:"Shopping Cart"})}),e?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)(s.Z,{primaryColor:"#000000",secondaryColor:"#e0e0e0",height:50,width:50}),(0,a.jsx)("p",{className:"md:text-[12px] text-[10px] text-[#bcbcbc]",children:"Loading the products..."})]}):r?d.length>0?(0,a.jsx)(k,{}):(0,a.jsx)(n.Z,{category:"Cart"}):(0,a.jsx)(l.Z,{})]})})};var C=I},5928:function(e,t,r){"use strict";r.d(t,{J0:function(){return o},UY:function(){return c},Xq:function(){return n},h2:function(){return i},xu:function(){return l}});var a=r(6741);let s=(0,a.oM)({name:"cart",initialState:{cartItems:[]},reducers:{addToCart:(e,t)=>{console.log(t.payload);let r=e.cartItems.find(e=>e.ProductId==t.payload.ProductId);console.log("item->",r),r?(r.Quantity++,r.price=r.selectedQuantityPrice*r.Quantity):(e.cartItems.push({...t.payload,Quantity:1}),console.log(e.cartItems))},addMultipleToCart:(e,t)=>{console.log(t.payload),e.cartItems=[...t.payload],console.log(e.cartItems)},updateCart:(e,t)=>{e.cartItems=e.cartItems.map(e=>e.ProductId===t.payload.id?("Quantity"===t.payload.key&&(e.selectedQuantityPrice=e.price*t.payload.val),{...e,[t.payload.key]:t.payload.val}):e)},removeFromCart:(e,t)=>{console.log("Payload->",t.payload),e.cartItems=e.cartItems.filter(e=>e.ProductId!==t.payload)},emptyCart:e=>{e.cartItems=[]}}}),{addToCart:n,updateCart:l,removeFromCart:i,addMultipleToCart:o,emptyCart:c}=s.actions;t.ZP=s.reducer},8765:function(e,t,r){"use strict";var a=r(1844);r(5784);var s=r(4793);r(7462);let n=e=>{let{primaryColor:t,secondaryColor:r,height:n,width:l}=e;return(0,a.jsx)(s.iT,{height:n,width:l,color:t,wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:r,strokeWidth:2,strokeWidthSecondary:2})};t.Z=n},2090:function(e,t,r){"use strict";var a=r(1844),s=r(5675),n=r.n(s),l=r(1664),i=r.n(l);r(5784);let o=e=>{let{category:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex-[2] flex flex-col items-center pb-[50px] md:-mt-14",children:[(0,a.jsx)(n(),{src:"/assets/empty-cart.jpg",width:300,height:300,className:"w-[300px] md:w-[400px]"}),(0,a.jsxs)("span",{className:"text-xl font-bold",children:["No item in your ",t]}),(0,a.jsxs)("span",{className:"text-center mt-4",children:["Looks like you have not added anything in your wishlist.",(0,a.jsx)("br",{}),"Go ahead and explore top categories."]}),(0,a.jsx)(i(),{href:"/",className:"py-4 px-8 rounded-full bg-black text-white text-lg font-medium transition-transform active:scale-95 mb-3 hover:opacity-75 mt-8",children:"Continue Shopping"})]})})};t.Z=o},8159:function(e,t,r){"use strict";var a=r(1844),s=r(5675),n=r.n(s),l=r(1664),i=r.n(l);r(5784);let o=()=>(0,a.jsxs)("div",{className:"flex-[2] flex flex-col items-center pb-[50px] md:-mt-14",children:[(0,a.jsx)(n(),{src:"/assets/empty-cart.jpg",width:300,height:300,className:"w-[300px] md:w-[400px]"}),(0,a.jsx)("span",{className:"text-xl font-bold",children:"Not logged in"}),(0,a.jsxs)("span",{className:"text-center mt-4",children:["Looks like you have not logged in please login to add items to your wishlist.",(0,a.jsx)("br",{}),"Go ahead and explore top categories."]}),(0,a.jsx)(i(),{href:"/login",className:"py-4 px-8 rounded-full bg-black text-white text-lg font-medium transition-transform active:scale-95 mb-3 hover:opacity-75 mt-8",children:"Login"})]});t.Z=o},7462:function(e,t,r){"use strict";var a=r(1844);r(5784);let s=e=>{let{children:t,className:r}=e;return(0,a.jsx)("div",{className:"w-full max-w-[1280px] px-5 md:px-10 mx-auto ".concat(r||""),children:t})};t.Z=s},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return o}});var a=r(5784),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(s),l=function(){return(l=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function o(e){return function(t){return a.createElement(c,l({attr:l({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,l({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,s=e.attr,n=e.size,o=e.title,c=i(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==n?a.createElement(n.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[937,648,69,793,741,61,17,744],function(){return e(e.s=7772)}),_N_E=e.O()}]);